<!DOCTYPE html>
<html>
<head>  
  <meta charset="UTF-8">
</head>
<body>
<h2>E1: please check the console.</h2>
<script>
const PI = 3.14159265;  
//---------------------------------------------------------
let array1 = [];
for (let i = 0; i<10; i++) {
  array1[i] = function() { 
    console.log("say what i is:", i);
  }
}
array1[3]();  // closure
//---------------------------------------------------------
function bar(x=0, y=x) {  // default parameter
  return [x,y]; 
}
console.log(bar()); 
console.log(bar(10)); 
console.log(bar(10,11)); 
//---------------------------------------------------------
function f1(arg) {
  {
    let arg = 1;
  }
  console.log(arg); 
}
f1(0); 
//---------------------------------------------------------
let my_map_result = [[1,1],[2,2],[3,3]].map(([a,b]) => a*b); 
 // map(function([a,b]) {return a+b;})
console.log(my_map_result); 
//---------------------------------------------------------
let obj3 = {};
let arr3 = [];
({ field1: obj3.prop, field2: arr3[0] } = {field1: 123, field2: 'hello' });  // 需要加括号
console.log(obj3);
console.log(arr3); 
//---------------------------------------------------------
function f2() {
  return {
    name: "George",
    score: 670.5
  }
}
let {name: stu_name, score: stu_score} = f2(); 
console.log("The student's name is " + stu_name + " and score is " + stu_score);

let {sin, cos} = Math; 
console.log('sin (PI)', sin (PI)); 
console.log('cos (PI)', cos (PI)); 
//---------------------------------------------------------
function fetch(url, {body = "", method = "GET", headers ={}} = {}) {
  console.log(method);
}
fetch(""); 

let [h0,h1,h2,h3,h4,h5,h6,h7,h8,h9,h10,h11,h12] = 'hello, world!';
console.log(h0,h1,h2,h3,h4,h5,h6,h7,h8,h9,h10,h11,h12); 

let swapX = 0, swapY = 1; 
[swapX, swapY] = [swapY, swapX]; 
console.log(swapX, swapY); 

let scoreMap = new Map([
  ['Jason', 88], 
  ['Jay', 14], 
  ['Nina', 75] 
]); 
for (let item of scoreMap){
  console.log(item); 
}
for (let [, values] of scoreMap){
  console.log(values)
}
//---------------------------------------------------------
// 写法一: 函数接收一个对象作为参数，如果没有参数，就使用空对象{}作参数。作为参数的对象有x,y两个属性，如果是空，默认为x=0, y=0
function mm1({x = 0, y = 0} = {}) {
  return [x, y];
}
// 写法二: 函数接收一个对象作为参数，如果没有参数，就是用默认对象{x:0, y:0}来调用
function mm2({x, y} = { x: 0, y: 0 }) {
  return [x, y];
}
console.log("mm1", mm1());  // [0, 0]
console.log("mm1 with parameter", mm1({x:1}));  // [1, 0]
console.log("mm2", mm2());  // [0, 0]
console.log("mm2 with parameter", mm2({x:1}));  // [1, undefined]
//---------------------------------------------------------
var ID = 20; 
function f3(){
  setTimeout(()=>{
    console.log("After some time, the ID is: ", this.ID);
  }, 200); 
}; 
f3.call({ID:42}); 
//---------------------------------------------------------
let arrayLike = {
  '0': 'a',
  '1': 'b',
  '2': 'c',
  'length': 3
};
let array4 = Array.from(arrayLike); 
console.log(array4); 
//---------------------------------------------------------
var student = {
  sname:  'Li Lei',
  age: 6
};  
console.log (student); 

student.getNameT0 = () => this.sname; 
// comparing to 
//student.getNameT0 = function() {return this.sname};
console.log('student.getNameT0(): ', student.getNameT0()); 

for (let prop in student){
    console.log ("The student object's properties & methods:", prop); 
}
console.log('Object.keys(student):', Object.keys(student));
console.log('Object.values(student):', Object.values(student));
console.log('Object.entries(student):', Object.entries(student));
console.log('Object.getOwnPropertyNames(student):', Object.getOwnPropertyNames(student));
console.log('Object.getOwnPropertySymbols(student):', Object.getOwnPropertySymbols(student));
console.log('Reflect.ownKeys(student):', Reflect.ownKeys(student));

</script>
</body>
</html>
