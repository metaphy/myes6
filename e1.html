<!DOCTYPE html>
<html>
<head>  
  <meta charset="UTF-8">
</head>
<body>
<h2>please check the console.</h2>
<script>
const PI = 3.1415926;  
//---------------------------------------------------------
let array1 = [];
for (let i = 0; i<10; i++) {
  array1[i] = function() { 
    console.log("say what i is:", i);
  }
}
array1[3](); 
//---------------------------------------------------------
function bar(x=0, y=x) {
  return [x,y]; 
}
console.log(bar()); 
//---------------------------------------------------------
function f1(arg) {
  {
    let arg = 1;
  }
  console.log(arg); 
}
f1(0); 
//---------------------------------------------------------
let my_map_result = [[1,1],[2,2],[3,3]].map(([a,b]) => a*b); 
 // map(function([a,b]) {return a+b;})
console.log(my_map_result); 
//---------------------------------------------------------
let obj3 = {};
let arr3 = [];
({ foo: obj3.prop, bar: arr3[0] } = { foo: 123, bar: true });   // 需要加括号
console.log(obj3);
console.log(arr3); 
//---------------------------------------------------------
function f2() {
  return {
    name: "George",
    score: 670.5
  }
}
let {name: stu_name, score: stu_score} = f2(); 
console.log("The student's name is " + stu_name + " and score is " + stu_score);
//---------------------------------------------------------
function Point(x=0, y=0){
  this.x = x;
  this.y = y;
}
const p = new Point(10); 
console.log(p); 

function fetch(url, {body = "", method = "GET", headers ={}} = {}) {
  console.log(method);
}
fetch(""); 
//---------------------------------------------------------
  // 写法一
function mm1({x = 0, y = 0} = {}) {
  return [x, y];
}

  // 写法二
function mm2({x, y} = { x: 0, y: 0 }) {
  return [x, y];
}
console.log(mm1());
console.log(mm2());
console.log(mm1({x:1}));
console.log(mm2({x:1}));
//---------------------------------------------------------
function f3(){
  setTimeout(()=>{
    console.log("After some time, the ID is: ", this.ID);
  }, 200); 
}
var ID = 21; 
f3.call({ID:42}); 
//---------------------------------------------------------
let arrayLike = {
  '0': 'a',
  '1': 'b',
  '2': 'c',
  'length': 3
};
let array4 = Array.from(arrayLike); 
console.log(array4); 
//---------------------------------------------------------
var student = {
  sname:  'Li Lei',
  age: 6
}
console.log (student); 
student.gender = 'Male'; 
console.log (student); 

student.getNameT0 = () => this.sname; 
// comparing to 
//student.getNameT0 = function() {return this.sname};
console.log('student.getNameT0(): ', student.getNameT0()); 

for (let prop in student){
    console.log ("The student object's properties & methods:", prop); 
}
console.log('Object.keys(student):', Object.keys(student));
console.log('Object.values(student):', Object.values(student));
console.log('Object.entries(student):', Object.entries(student));
console.log('Object.getOwnPropertyNames(student):', Object.getOwnPropertyNames(student));
console.log('Object.getOwnPropertySymbols(student):', Object.getOwnPropertySymbols(student));
console.log('Reflect.ownKeys(student):', Reflect.ownKeys(student));
//---------------------------------------------------------
const asuper = {
  foo: 'hello'
};
const obj5 = {
  foo: 'world',
  find() {
    return super.foo;
  }
};

Object.setPrototypeOf(obj5, asuper);
console.log(obj5.find()); // "hello"
//---------------------------------------------------------
let seta = new Set([1,2,3,4]);
let setb = new Set([2,9]); 
let set_union = new Set([...seta, ...setb]); 
let set_intersect = new Set([...seta].filter(x => setb.has(x))); 
let set_diff = new Set([...seta].filter(x => !setb.has(x))); 
console.log(set_union);
console.log(set_intersect);
console.log(set_diff);

const mymap = new Map([
  ['name', '张三'],
  ['title', 'Author']
]);
console.log(mymap); 
//---------------------------------------------------------
var func_add = new Function('x', 'y', 'return x+y'); 
console.log("function add result: " , func_add(10,20)); 

</script>
</body>
</html>
